import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as e,o as i,c as l,b as n,d as s,a as t,e as p}from"./app-21d4bb55.js";const c="/assets/1-1694333064877-27-ffc2a4a8.png",u="/assets/2-1694333071111-29-a5660f37.png",r="/assets/3-1694333077891-31-308aa09b.png",d="/assets/4-1694333083598-33-6dc2f860.png",k={},q=p(`<blockquote><p>注意</p><p>此文章具有时效性，因为Pixiv可能会不断地修改自己网站访问的格式</p><p>不过具体步骤是不会变的，完全可以继续参考此文章进行爬取数据。</p></blockquote><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言" aria-hidden="true">#</a> 前言</h2><p>此文章介绍的是如何爬取数据，下面是爬取的一段数据案例：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;pid&quot;</span><span class="token operator">:</span> <span class="token number">109489663</span><span class="token punctuation">,</span>
        <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;17067123&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;🐐🐐&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;rock&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;r18&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;width&quot;</span><span class="token operator">:</span> <span class="token number">3095</span><span class="token punctuation">,</span>
        <span class="token property">&quot;height&quot;</span><span class="token operator">:</span> <span class="token number">3728</span><span class="token punctuation">,</span>
        <span class="token property">&quot;tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;女の子&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;GenshinImpact&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;少女&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;甘雨(原神)&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;OL&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;착의거유&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i.pximg.net/img-original/img/2023/07/01/00/55/44/109489663_p0.jpg&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;urls&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;thumb_mini&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i.pximg.net/c/128x128/img-master/img/2023/07/01/00/55/44/109489663_p0_square1200.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;small&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i.pximg.net/c/540x540_70/img-master/img/2023/07/01/00/55/44/109489663_p0_master1200.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;regular&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i.pximg.net/img-master/img/2023/07/01/00/55/44/109489663_p0_master1200.jpg&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;original&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i.pximg.net/img-original/img/2023/07/01/00/55/44/109489663_p0.jpg&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当然，这就是我数据文件的标准格式啦，我的API使用的正是这种格式的数据库。如果你需要爬取对应的图片，也可以阅读此文章，只需要在需要修改的地方进行修改就好~毕竟有一步就是获取图片的links，你只需要把这一步改为下载图片就好啦！</p><blockquote><p>不过，根据Pixiv网站条例，请不要爬取图片，或者做对网站资源有大量占用的事情</p></blockquote><p>那么就正式开始吧~话不多说啦</p><h2 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作" aria-hidden="true">#</a> 准备工作</h2><h3 id="牵线搭桥" tabindex="-1"><a class="header-anchor" href="#牵线搭桥" aria-hidden="true">#</a> 牵线搭桥</h3>`,9),v=n("code",null,"Steam++",-1),m=n("code",null,"Watt Toolkit",-1),b={href:"https://steampp.net",target:"_blank",rel:"noopener noreferrer"},g=n("p",null,"进入后，划到最下面，然后你可以找到一个这样的页面：",-1),h=n("figure",null,[n("img",{src:c,alt:"1",tabindex:"0",loading:"lazy"}),n("figcaption",null,"1")],-1),_=n("p",null,[s("打开最下面的"),n("code",null,"其他网站"),s("就可以哩，我这里打开了Github是因为要用到Github。")],-1),y=n("h3",{id:"创建-登陆账号",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#创建-登陆账号","aria-hidden":"true"},"#"),s(" 创建&登陆账号")],-1),f={href:"https://www.pixiv.net/",target:"_blank",rel:"noopener noreferrer"},x=n("code",null,"Outlook",-1),j=p('<blockquote><p>不建议使用其他邮箱是因为可能会出现无法注册的情况</p></blockquote><p>具体注册我就不多说了吧？注册流程结束后自己的页面应该是下面这样子~如果和我一样或者差不错那就代表成功啦！</p><figure><img src="'+u+'" alt="2" tabindex="0" loading="lazy"><figcaption>2</figcaption></figure><h2 id="正式开始" tabindex="-1"><a class="header-anchor" href="#正式开始" aria-hidden="true">#</a> 正式开始</h2><h3 id="寻找联系" tabindex="-1"><a class="header-anchor" href="#寻找联系" aria-hidden="true">#</a> 寻找联系</h3><p>当然不能上来就写代码啦，这样是不对头滴，因为你不能确定自己写的代码是否符合实际。首先我们要做的就是寻找链接之间的关系：</p><p>我们可以先随便打开一个图片，顺手记得打开<code>开发人员工具</code>，因为我们要看网络。</p><blockquote><p>这里提前明确，现在Pixiv使用的是ajax处理请求，返回的数据也是有ajax的，所以我们直接可以在<code>XHR</code>选项卡查看网络请求</p></blockquote><p>记录一段时间请求后直接停止记录就好，不需要那么久的记录，然后你就可以得到下面的这些啦：</p><figure><img src="'+r+'" alt="3" tabindex="0" loading="lazy"><figcaption>3</figcaption></figure><p>顺便这里学个新单词：<code>illust</code>，也就是插画的意思。我们要爬取的是所有插画的数据，那么很明显了吧？是的！就是上图中的第五个数据！</p><p>可以点开浏览看看这个数据里面的内容：</p><figure><img src="'+d+`" alt="4" tabindex="0" loading="lazy"><figcaption>4</figcaption></figure><p>什么？你觉得已经完美收尾了？Nonono，这个只是缩略图，我们可以看一看具体的数据长什么样子：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;79680064&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;現代の魔女&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;illustType&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;xRestrict&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;restrict&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sl&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i.pximg.net/c/250x250_80_a2/img-master/img/2020/02/23/19/27/23/79680064_p0_square1200.jpg&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tags&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;女の子&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;オリジナル&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;創作&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;魔女&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;ツインテール&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;白髪&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;ふともも&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;オッドアイ&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;オリジナル100users入り&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;オリジナル500users入り&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;39042382&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;userName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ナノな&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;width&quot;</span><span class="token operator">:</span> <span class="token number">1884</span><span class="token punctuation">,</span>
  <span class="token property">&quot;height&quot;</span><span class="token operator">:</span> <span class="token number">3010</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pageCount&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;isBookmarkable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bookmarkData&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
  <span class="token property">&quot;alt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#女の子 現代の魔女 - ナノな的插画&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;titleCaptionTranslation&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;workTitle&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;workCaption&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;createDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020-02-23T19:27:23+09:00&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;updateDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020-02-23T19:27:23+09:00&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;isUnlisted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;isMasked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;aiType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;profileImageUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://i.pximg.net/user-profile/img/2022/10/17/15/01/24/23475928_15e159e994d5ec5b96e0ff5d8af17e41_50.jpg&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>所以我们是可以通过这个数据，获取我们想要图片的id以及其他信息的，唯独无法获取我们想要的真链接（也就是原图的链接），怎么办呢？</p><p>其实非常简单，如果我们点击一下图片（就是上上面图片的左边的图片），就能看到真实链接了，那么我们可以通过另外一个链接规则获取我们想要的链接列表：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>URL <span class="token operator">=</span> <span class="token string">&quot;https://www.pixiv.net/ajax/illust/&quot;</span> <span class="token operator">+</span> ID <span class="token operator">+</span> <span class="token string">&quot;/pages?lang=zh&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>关于这个链接的来历可以自己再看看网络请求，里面是有的哦~</p><h3 id="敲代码" tabindex="-1"><a class="header-anchor" href="#敲代码" aria-hidden="true">#</a> 敲代码</h3><p>那么准备好了，也就要开始写代码啦~我这里使用<code>Python</code>来写爬虫，因为Python真的是非常简单的语言。</p><p>直接上我的源代码文件吧，这里面的注意事项有：</p><ol><li>请求头，这个可以直接在浏览器找到，使用自己的请求头就好~</li><li>我的源代码是可以直接在终端运行的，输入的链接地址其实就是刚刚找到的<code>illust?ids...</code>的链接地址</li><li>源代码同级目录下应当有一个<code>json</code>文件夹，否则会报错</li></ol><p>放心好了~，直接点下方的链接就好，这个文件是直接放在我站点里面的啦，没有任何病毒，目前这个版本是3.0版本啦，是比较新的版本了，应该是短期不会更新了吧，反正我允许你修改源代码文件，但是<strong>请注明我的名字</strong></p><p><a href="files%5C%E8%8E%B7%E5%8F%96Pixiv%E7%9A%84Json%E6%95%B0%E6%8D%AE%E5%BA%93.7z">获取Pixiv的Json数据库.7z</a></p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>虽然这个文章有时效性，但是具体的步骤是不会变的，就是找关系，写代码，开始获取图片信息。</p><p>加油吧~相信这篇文章能够给你很多</p>`,28);function w(P,E){const a=e("ExternalLinkIcon");return i(),l("div",null,[q,n("p",null,[s("要爬取Pixiv的数据，你当然需要先能够访问Pixiv吧？这里提供一个非常简单的解决方案，那就是大家耳熟能详的"),v,s("，也就是现在的"),m,s("，官方链接"),n("a",b,[s("点击跳转"),t(a)]),s("，直接正常安装就好~")]),g,h,_,y,n("p",null,[s("直接访问"),n("a",f,[s("Pixiv官网"),t(a)]),s("，你会发现是需要登录的，这里如果使用邮箱进行注册，建议使用"),x,s("邮箱；或者使用苹果账号注册也是一个不错的选择~")]),j])}const B=o(k,[["render",w],["__file","爬取Pixiv图片json数据.html.vue"]]);export{B as default};
